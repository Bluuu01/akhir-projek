<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kita Holo Consulting | Code Audit & Optimization</title>
    <link
      rel="shortcut icon"
      href="/assets/Arlecchino _ Genshin Impact.jpeg"
      type="image/x-icon"
      style="width: 64px; height: 64px; border-radius: 50%"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    />

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

      /* --- NEW VISUAL KEYFRAMES --- */
      @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-15px); }
        100% { transform: translateY(0px); }
      }

      @keyframes float-delayed {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
        100% { transform: translateY(0px); }
      }

      @keyframes gradient-move {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }

      @keyframes pulse-soft {
        0% { box-shadow: 0 0 0 0 rgba(56, 189, 248, 0.4); }
        70% { box-shadow: 0 0 0 15px rgba(56, 189, 248, 0); }
        100% { box-shadow: 0 0 0 0 rgba(56, 189, 248, 0); }
      }

      @keyframes glow-border {
        0% { border-color: rgba(56, 189, 248, 0.3); }
        50% { border-color: rgba(56, 189, 248, 0.8); box-shadow: 0 0 20px rgba(56, 189, 248, 0.2); }
        100% { border-color: rgba(56, 189, 248, 0.3); }
      }

      /* --- LENIS SMOOTH SCROLL CSS --- */
      html.lenis,
      html.lenis body {
        height: auto;
      }
      .lenis.lenis-smooth {
        scroll-behavior: auto !important;
      }
      .lenis.lenis-smooth [data-lenis-prevent] {
        overscroll-behavior: contain;
      }
      .lenis.lenis-stopped {
        overflow: hidden;
      }
      .lenis.lenis-scrolling iframe {
        pointer-events: none;
      }

      /* --- SCROLL REVEAL ANIMATION --- */
      .reveal {
        opacity: 0;
        transform: translateY(40px) scale(0.98);
        transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }

      .reveal.active {
        opacity: 1;
        transform: translateY(0) scale(1);
      }

      /* Staggered Delays */
      .service-card.reveal:nth-child(1), .testi-card.reveal:nth-child(1) { transition-delay: 0.1s; }
      .service-card.reveal:nth-child(2), .testi-card.reveal:nth-child(2) { transition-delay: 0.2s; }
      .service-card.reveal:nth-child(3), .testi-card.reveal:nth-child(3) { transition-delay: 0.3s; }
      .service-card.reveal:nth-child(4) { transition-delay: 0.4s; }

      /* --- CORE VARIABLES & RESET --- */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary: #0f172a;
        --secondary: #1e293b;
        --accent: #38bdf8;
        --accent-light: #7dd3fc;
        --accent-dark: #0284c7;
        --text-primary: #f8fafc;
        --text-secondary: #94a3b8;
        --border: #334155;
        --nav-bg: rgba(15, 23, 42, 0.85);
      }

      /* Light Theme Override */
      body.light-theme {
        --primary: #ffffff;
        --secondary: #f8fafc;
        --accent: #0284c7;
        --accent-light: #38bdf8;
        --text-primary: #0f172a;
        --text-secondary: #475569;
        --border: #e2e8f0;
        --nav-bg: rgba(255, 255, 255, 0.85);
      }

      body {
        font-family: "Inter", sans-serif;
        background: var(--primary);
        color: var(--text-primary);
        overflow-x: hidden;
        transition: background-color 0.5s cubic-bezier(0.4, 0, 0.2, 1), color 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* --- NAVIGATION --- */
      nav {
        position: fixed;
        top: 0;
        width: 100%;
        background: var(--nav-bg);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        padding: 1.2rem 0;
        z-index: 1000;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        transition: padding 0.3s ease;
      }
      
      nav.scrolled {
        padding: 0.8rem 0;
        box-shadow: 0 10px 30px -10px rgba(0,0,0,0.3);
      }

      nav .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .logo {
        font-size: 1.5rem;
        font-weight: 800;
        background: linear-gradient(135deg, var(--accent), var(--accent-light));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        letter-spacing: -0.5px;
      }
      nav ul {
        list-style: none;
        display: flex;
        gap: 2.5rem;
        align-items: center;
      }
      nav a {
        color: var(--text-secondary);
        text-decoration: none;
        font-weight: 500;
        transition: color 0.3s ease;
        position: relative;
        font-size: 0.95rem;
      }
      nav a:hover,
      nav a.active {
        color: var(--accent);
      }
      nav a::after {
        content: "";
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 0%;
        height: 2px;
        background: var(--accent);
        transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      nav a.active::after, nav a:hover::after {
        width: 100%;
      }

      .theme-btn {
        background: none;
        border: none;
        cursor: pointer;
        font-size: 1.1rem;
        color: var(--text-secondary);
        transition: transform 0.3s ease, color 0.3s ease;
      }
      .theme-btn:hover {
        color: var(--accent);
        transform: rotate(15deg);
      }
      .theme-btn .fa-sun { display: none; }
      body.light-theme .theme-btn .fa-sun { display: inline-block; }
      body.light-theme .theme-btn .fa-moon { display: none; }

      /* --- HERO SECTION --- */
      .hero {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
        padding: 0 2rem;
      }
      .hero-bg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
          circle at 50% 50%,
          rgba(56, 189, 248, 0.15) 0%,
          rgba(15, 23, 42, 0) 70%
        );
        animation: pulse-soft 8s infinite alternate; 
      }
      .hero-content {
        max-width: 1400px;
        width: 100%;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 4rem;
        align-items: center;
        z-index: 1;
      }
      .hero-text h1 {
        font-size: clamp(2.5rem, 6vw, 4.5rem);
        font-weight: 800;
        line-height: 1.1;
        margin-bottom: 1.5rem;
        letter-spacing: -1px;
      }
      .hero-text .highlight {
        background: linear-gradient(90deg, var(--accent), var(--accent-light), #fff, var(--accent));
        background-size: 200% auto;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: gradient-move 4s linear infinite;
      }
      .hero-text p {
        font-size: 1.2rem;
        color: var(--text-secondary);
        margin-bottom: 2.5rem;
        line-height: 1.6;
        max-width: 90%;
      }
      
      /* Button Styles Enhanced */
      .btn {
        padding: 1rem 2rem;
        border-radius: 12px;
        text-decoration: none;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        border: none;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
      }
      .btn-primary {
        background: var(--accent);
        color: white;
        box-shadow: 0 4px 14px 0 rgba(56, 189, 248, 0.39);
      }
      .btn-primary:hover {
        transform: translateY(-2px) scale(1.02);
        box-shadow: 0 6px 20px rgba(56, 189, 248, 0.23);
      }
      .btn-primary::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
        transition: 0.5s;
      }
      .btn-primary:hover::before {
        left: 100%;
      }

      .btn-secondary {
        border: 2px solid var(--border);
        color: var(--text-primary);
        background: transparent;
      }
      .btn-secondary:hover {
        border-color: var(--accent);
        color: var(--accent);
        background: rgba(56, 189, 248, 0.05);
      }

      .profile-img {
        width: 350px;
        height: 350px;
        border-radius: 24px;
        background-image: url("/assets/holo.jpeg");
        background-size: cover;
        background-position: center;
        box-shadow: 20px 20px 0px var(--border);
        transition: all 0.4s ease;
        animation: float 6s ease-in-out infinite;
      }
      .profile-img:hover {
        box-shadow: 30px 30px 0px var(--accent);
        transform: scale(1.02);
      }

      /* --- NEW SECTION: ABOUT US --- */
      .about-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 4rem;
        align-items: center;
      }
      .about-text h2 {
        font-size: 2.5rem;
        margin-bottom: 1.5rem;
        line-height: 1.2;
      }
      .about-text p {
        color: var(--text-secondary);
        margin-bottom: 1.5rem;
        line-height: 1.7;
        font-size: 1.05rem;
      }
      .about-stats {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1.5rem;
        margin-top: 2rem;
      }
      .stat-item h3 {
        font-size: 2rem;
        color: var(--accent);
        margin-bottom: 0.2rem;
      }
      .stat-item p {
        font-size: 0.9rem;
        margin: 0;
      }
      
      /* Abstract Visual (Animation) */
      .about-visual {
        position: relative;
        height: 400px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .code-card {
        width: 100%;
        max-width: 450px;
        background: rgba(30, 41, 59, 0.7);
        border: 1px solid var(--border);
        border-radius: 20px;
        padding: 2rem;
        backdrop-filter: blur(10px);
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        animation: float 8s ease-in-out infinite, glow-border 4s infinite alternate;
        position: relative;
        z-index: 2;
      }
      .code-header {
        display: flex;
        gap: 8px;
        margin-bottom: 1.5rem;
      }
      .dot { width: 12px; height: 12px; border-radius: 50%; }
      .red { background: #ef4444; }
      .yellow { background: #f59e0b; }
      .green { background: #22c55e; }
      
      .code-lines {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .line {
        height: 12px;
        border-radius: 6px;
        background: var(--border);
        width: 100%;
        opacity: 0.3;
      }
      .line.short { width: 40%; }
      .line.medium { width: 70%; }
      .line.accent { 
        background: var(--accent); 
        opacity: 0.6;
        width: 0;
        animation: typeLine 2s ease-out forwards;
      }
      @keyframes typeLine { to { width: 60%; } }

      .floating-badge {
        position: absolute;
        background: var(--primary);
        padding: 1rem 1.5rem;
        border-radius: 16px;
        border: 1px solid var(--border);
        box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        display: flex;
        align-items: center;
        gap: 10px;
        z-index: 3;
        animation: float-delayed 7s ease-in-out infinite reverse;
      }
      .floating-badge.one { top: 20px; right: -20px; }
      .floating-badge.two { bottom: 40px; left: -20px; }
      .fb-icon {
        width: 40px; 
        height: 40px; 
        background: rgba(56, 189, 248, 0.1); 
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--accent);
      }

      /* --- SECTIONS GENERAL --- */
      section {
        padding: 6rem 2rem;
        max-width: 1400px;
        margin: 0 auto;
      }
      .section-header {
        text-align: center;
        margin-bottom: 4rem;
      }
      .section-tag {
        color: var(--accent);
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 2px;
        font-size: 0.8rem;
        margin-bottom: 0.8rem;
        display: inline-block;
        padding: 0.25rem 0.75rem;
        background: rgba(56, 189, 248, 0.1);
        border-radius: 20px;
      }
      .section-title {
        font-size: 2.5rem;
        font-weight: 800;
        margin-bottom: 1rem;
        letter-spacing: -0.5px;
      }
      .section-subtitle {
        color: var(--text-secondary);
        max-width: 600px;
        margin: 0 auto;
        line-height: 1.6;
      }

      /* --- SERVICES --- */
      .services-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 2rem;
      }
      .service-card {
        background: var(--secondary);
        padding: 2.5rem;
        border-radius: 24px;
        border: 1px solid var(--border);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      }
      .service-card:hover {
        border-color: var(--accent);
        transform: translateY(-8px);
        box-shadow: 0 20px 40px -15px rgba(0, 0, 0, 0.2);
      }
      .service-icon {
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, rgba(56, 189, 248, 0.1), rgba(56, 189, 248, 0.05));
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1.5rem;
        transition: transform 0.3s ease;
      }
      .service-card:hover .service-icon {
        transform: scale(1.1) rotate(5deg);
      }
      .service-icon i {
        font-size: 1.8rem;
        color: var(--accent);
      }
      .service-card h3 {
        font-size: 1.4rem;
        margin-bottom: 1rem;
      }
      .service-card p {
        color: var(--text-secondary);
        line-height: 1.6;
      }

      /* --- TESTIMONIALS --- */
      .testimonials-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
      }
      .testi-card {
        background: var(--secondary);
        padding: 2.5rem;
        border-radius: 24px;
        border: 1px solid var(--border);
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        transition: transform 0.3s ease, border-color 0.3s ease;
      }
      .testi-card:hover {
        transform: translateY(-5px);
        border-color: var(--accent-light);
      }
      .testi-header {
        display: flex;
        gap: 1rem;
        align-items: center;
      }
      .testi-avatar {
        width: 50px;
        height: 50px;
        background: var(--primary);
        border: 1px solid var(--border);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--text-secondary);
      }
      .testi-info h4 {
        font-size: 1.1rem;
        color: var(--text-primary);
        margin-bottom: 0.2rem;
      }
      .testi-info span {
        font-size: 0.85rem;
        color: var(--accent);
      }
      .testi-body p {
        color: var(--text-secondary);
        font-style: italic;
        line-height: 1.6;
      }
      .stars {
        color: #fbbf24;
        font-size: 0.9rem;
      }

      /* --- PRICING --- */
      .pricing-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        align-items: center;
      }
      .pricing-card {
        background: var(--secondary);
        border: 1px solid var(--border);
        border-radius: 24px;
        padding: 3rem 2rem;
        text-align: center;
        transition: all 0.3s ease;
        position: relative;
        display: flex;
        flex-direction: column;
        height: 100%;
      }
      
      /* --- MARQUEE --- */
      .marquee-wrapper {
        position: relative;
        width: 100%;
        overflow: hidden;
        margin-bottom: 1.5rem;
        -webkit-mask-image: linear-gradient(90deg, transparent, #000 15%, #000 85%, transparent);
        mask-image: linear-gradient(90deg, transparent, #000 15%, #000 85%, transparent);
      }
      .marquee-track {
        display: flex;
        width: max-content;
        gap: 2rem;
      }
      .logo-group {
        display: flex;
        gap: 1.5rem;
      }
      .client-card {
        background: #ffffff;
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 1rem 2rem;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        border: 1px solid #e2e8f0;
        min-width: 180px;
        justify-content: center;
        transition: all 0.3s ease;
        white-space: nowrap;
      }
      .client-card i {
        font-size: 1.5rem;
        color: #334155;
      }
      .client-card span {
        font-weight: 600;
        color: #0f172a;
        font-size: 1.1rem;
      }
      .client-card:hover {
        transform: translateY(-2px) scale(1.02);
        border-color: var(--accent);
        box-shadow: 0 10px 20px rgba(56, 189, 248, 0.15);
      }
      .client-card:hover i, .client-card:hover span {
        color: var(--accent);
      }
      body:not(.light-theme) .client-card {
        background: var(--secondary);
        border-color: var(--border);
      }
      body:not(.light-theme) .client-card span {
        color: var(--text-primary);
      }
      body:not(.light-theme) .client-card i {
        color: var(--text-secondary);
      }

      .scroll-left { animation: scrollLeft 40s linear infinite; }
      .scroll-right { animation: scrollRight 40s linear infinite; }
      @keyframes scrollLeft { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
      @keyframes scrollRight { 0% { transform: translateX(-50%); } 100% { transform: translateX(0); } }
      .marquee-track:hover { animation-play-state: paused; }

      .pricing-card:hover {
        transform: translateY(-10px);
        border-color: var(--accent);
      }
      .pricing-card.popular {
        background: linear-gradient(145deg, var(--secondary), rgba(56, 189, 248, 0.05));
        border: 2px solid var(--accent);
        transform: scale(1.05);
        z-index: 10;
        box-shadow: 0 20px 50px rgba(56, 189, 248, 0.1);
      }
      .pricing-card.popular:hover {
        transform: scale(1.05) translateY(-10px);
        box-shadow: 0 30px 60px rgba(56, 189, 248, 0.2);
      }
      .badge-popular {
        position: absolute;
        top: -15px;
        left: 50%;
        transform: translateX(-50%);
        background: var(--accent);
        color: white;
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1px;
        box-shadow: 0 5px 15px rgba(56, 189, 248, 0.4);
      }
      .price-header h3 {
        font-size: 1.5rem;
        margin-bottom: 1rem;
        color: var(--text-primary);
      }
      .price-amount {
        font-size: 2.5rem;
        font-weight: 800;
        color: var(--accent);
        margin-bottom: 0.5rem;
      }
      .price-period {
        font-size: 0.9rem;
        color: var(--text-secondary);
        margin-bottom: 2rem;
        display: block;
      }
      .features-list {
        list-style: none;
        margin-bottom: 2.5rem;
        text-align: left;
        flex-grow: 1;
      }
      .features-list li {
        margin-bottom: 1rem;
        color: var(--text-secondary);
        display: flex;
        align-items: flex-start;
        gap: 10px;
        font-size: 0.95rem;
      }
      .features-list li i {
        color: var(--accent);
        margin-top: 4px;
      }
      .features-list li.disabled {
        opacity: 0.5;
        text-decoration: line-through;
      }

      /* --- TEAM --- */
      .portfolio-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2.5rem;
      }
      .portfolio-card {
        background: transparent;
        perspective: 1000px;
        height: 500px;
        cursor: default;
      }
      .portfolio-card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        text-align: center;
        transition: transform 0.8s cubic-bezier(0.4, 0.2, 0.2, 1);
        transform-style: preserve-3d;
        border-radius: 24px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }
      .portfolio-card:hover .portfolio-card-inner {
        transform: rotateY(5deg);
      }
      .portfolio-card.is-flipped .portfolio-card-inner {
        transform: rotateY(180deg);
      }
      .portfolio-card-front,
      .portfolio-card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
        border-radius: 24px;
        overflow: hidden;
        border: 1px solid var(--border);
        background: var(--secondary);
      }
      .p-card-header {
        height: 120px;
        background: linear-gradient(135deg, var(--border), var(--secondary));
        display: flex;
        justify-content: center;
        align-items: flex-end;
      }
      .p-card-header img {
        width: 90px;
        height: 90px;
        border-radius: 50%;
        border: 4px solid var(--secondary);
        transform: translateY(40%);
        object-fit: cover;
        background-color: var(--primary);
      }
      .p-card-body {
        padding: 50px 1.5rem 1rem 1.5rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        height: calc(100% - 120px);
      }
      .p-card-body h3 {
        margin-bottom: 0.2rem;
      }
      .p-card-body .role {
        color: var(--accent);
        font-size: 0.85rem;
        font-weight: 700;
        margin-bottom: 1rem;
        text-transform: uppercase;
      }
      .p-about-text {
        font-size: 0.9rem;
        color: var(--text-secondary);
        line-height: 1.5;
        margin-bottom: auto;
      }
      .portfolio-card-back {
        transform: rotateY(180deg);
        background: var(--primary);
        display: flex;
        flex-direction: column;
      }
      .back-content {
        padding: 2rem;
        text-align: left;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }
      .back-content h3 {
        color: var(--accent);
        margin-bottom: 1.5rem;
      }
      .stat-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 1px solid var(--border);
      }
      .stat-label {
        color: var(--text-secondary);
        font-size: 0.9rem;
      }
      .stat-value {
        font-weight: 600;
        color: var(--text-primary);
      }
      .flip-trigger,
      .flip-back-btn {
        cursor: pointer;
        color: var(--accent);
        font-size: 0.9rem;
        margin-top: 1rem;
        display: block;
      }

      /* --- CONTACT FORM --- */
      .contact-container {
        background: var(--secondary);
        padding: 4rem;
        border-radius: 24px;
        border: 1px solid var(--border);
        transition: transform 0.3s ease;
      }
      .contact-container:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(0,0,0,0.1);
      }
      .form-group {
        margin-bottom: 1.5rem;
      }
      .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        color: var(--text-secondary);
        font-weight: 500;
      }
      .form-group input,
      .form-group textarea {
        width: 100%;
        background: var(--primary);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 1rem;
        color: var(--text-primary);
        font-family: "Inter", sans-serif;
        transition: all 0.3s ease;
      }
      .form-group input:focus,
      .form-group textarea:focus {
        outline: none;
        border-color: var(--accent);
        box-shadow: 0 0 0 4px rgba(56, 189, 248, 0.1);
      }

      /* --- FOOTER --- */
      footer {
        background: var(--secondary);
        padding: 3rem;
        text-align: center;
        border-top: 1px solid var(--border);
        margin-top: 4rem;
      }
      footer p {
        color: var(--text-secondary);
      }

      /* --- CHATBOT --- */
      .chatbot-toggle {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 60px;
        height: 60px;
        background: var(--accent);
        border-radius: 50%;
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        z-index: 1000;
        transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      }
      .chatbot-toggle:hover {
        transform: scale(1.1);
      }
      .chatbot-toggle i {
        color: white;
        font-size: 1.5rem;
      }
      .chatbot-container {
        position: fixed;
        bottom: 100px;
        right: 30px;
        width: 350px;
        height: 500px;
        background: var(--secondary);
        border: 1px solid var(--border);
        border-radius: 16px;
        display: none;
        flex-direction: column;
        z-index: 999;
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
        animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      }
      @keyframes slideUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .chatbot-container.active {
        display: flex;
      }
      .chatbot-header {
        background: var(--primary);
        padding: 1rem;
        border-bottom: 1px solid var(--border);
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-radius: 16px 16px 0 0;
      }
      .chatbot-messages {
        flex: 1;
        padding: 1rem;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        gap: 0.8rem;
      }
      .message {
        display: flex;
        gap: 0.5rem;
        max-width: 85%;
        animation: fadeIn 0.3s ease;
      }
      .message.user {
        align-self: flex-end;
        flex-direction: row-reverse;
      }
      .message-content {
        background: var(--border);
        padding: 0.8rem;
        border-radius: 12px;
        font-size: 0.9rem;
        line-height: 1.4;
      }
      .message.user .message-content {
        background: var(--accent);
        color: white;
      }
      .chatbot-input {
        padding: 1rem;
        display: flex;
        gap: 0.5rem;
        border-top: 1px solid var(--border);
      }
      .chatbot-input input {
        flex: 1;
        padding: 0.8rem;
        border-radius: 8px;
        border: 1px solid var(--border);
        background: var(--primary);
        color: white;
      }
      .chatbot-input button {
        background: var(--accent);
        border: none;
        width: 40px;
        border-radius: 8px;
        color: white;
        cursor: pointer;
        transition: background 0.2s;
      }
      .chatbot-input button:hover {
        background: var(--accent-dark);
      }

      @media (max-width: 768px) {
        .hero-content, .about-grid,
        .about-grid {
          grid-template-columns: 1fr;
          text-align: center;
        }
        .about-stats {
          justify-items: center;
        }
        .about-visual {
            display: none; /* Hide expensive animation on mobile to save battery */
        }
        nav ul {
          display: none;
        } 
        .menu-toggle {
          display: block;
          position: absolute;
          right: 2rem;
          cursor: pointer;
        }
        .menu-toggle span {
          display: block;
          width: 25px;
          height: 2px;
          background: white;
          margin: 5px 0;
        }
        nav ul.active {
          display: flex;
          flex-direction: column;
          position: absolute;
          top: 100%;
          left: 0;
          width: 100%;
          background: var(--secondary);
          padding: 1rem;
          box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
      }

      #formStatus {
        padding: 10px;
        border-radius: 8px;
        background: rgba(0, 0, 0, 0.2);
        border: 1px solid var(--border);
        animation: fadeIn 0.5s ease;
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .fa-spinner {
        margin-right: 8px;
      }
    </style>
  </head>

  <body>
    <nav id="navbar">
      <div class="container">
        <div class="logo">
          KITA HOLO
          <span style="font-weight: 300; font-size: 0.8em; color: var(--text-secondary);">SOLUTIONS</span>
        </div>
        <div class="menu-toggle" onclick="toggleMenu()">
          <span></span><span></span><span></span>
        </div>
        <ul id="navMenu">
          <li><a href="#home" class="active">Home</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#services">Services</a></li>
          <li><a href="#pricing">Pricing</a></li>
          <li><a href="#testimonials">Testimonials</a></li>
          <li><a href="#team">Team</a></li>
          <li>
            <a href="#contact" class="btn btn-primary" style="padding: 0.5rem 1rem; color: white; border-radius: 8px;">Audit Now</a>
          </li>
          <li>
            <button id="theme-toggle" class="theme-btn">
              <i class="fas fa-moon"></i><i class="fas fa-sun"></i>
            </button>
          </li>
        </ul>
      </div>
    </nav>

    <section id="home" class="hero">
      <div class="hero-bg"></div>
      <div class="hero-content">
        <div class="hero-text reveal">
          <p>
            <i class="fas fa-check-circle" style="color: var(--accent)"></i>
            Professional Code Optimization
          </p>
          <h1>We Fix Your <span class="highlight">Broken & Slow</span> Code.</h1>
          <p>
            Don't let a slow website or bugs ruin your business. We are a dedicated IT consulting team for auditing, refactoring, and optimizing your application performance.
          </p>
          <div style="display: flex; gap: 1rem; flex-wrap: wrap; justify-content: flex-start;">
            <a href="#contact" class="btn btn-primary">
              Start Consultation <i class="fas fa-arrow-right"></i>
            </a>
            <a href="#services" class="btn btn-secondary"> View Services </a>
          </div>
        </div>
        <div class="reveal" style="display: flex; justify-content: center">
          <div class="profile-img"></div>
        </div>
      </div>
    </section>

    <section id="clients-carousel" style="padding: 4rem 0; overflow: hidden">
      <div class="section-header reveal" style="margin-bottom: 2rem">
        <p class="section-tag">Trusted By Industry Leaders</p>
      </div>
      <div class="marquee-wrapper">
        <div class="marquee-track scroll-left">
          <div class="logo-group">
            <div class="client-card"><i class="fab fa-aws"></i> <span>AWS</span></div>
            <div class="client-card"><i class="fab fa-google"></i> <span>Google Cloud</span></div>
            <div class="client-card"><i class="fab fa-microsoft"></i> <span>Azure</span></div>
            <div class="client-card"><i class="fas fa-database"></i> <span>MongoDB</span></div>
            <div class="client-card"><i class="fab fa-spotify"></i> <span>Spotify</span></div>
            <div class="client-card"><i class="fab fa-airbnb"></i> <span>Airbnb</span></div>
            <div class="client-card"><i class="fab fa-uber"></i> <span>Uber</span></div>
          </div>
          <div class="logo-group">
            <div class="client-card"><i class="fab fa-aws"></i> <span>AWS</span></div>
            <div class="client-card"><i class="fab fa-google"></i> <span>Google Cloud</span></div>
            <div class="client-card"><i class="fab fa-microsoft"></i> <span>Azure</span></div>
            <div class="client-card"><i class="fas fa-database"></i> <span>MongoDB</span></div>
            <div class="client-card"><i class="fab fa-spotify"></i> <span>Spotify</span></div>
            <div class="client-card"><i class="fab fa-airbnb"></i> <span>Airbnb</span></div>
            <div class="client-card"><i class="fab fa-uber"></i> <span>Uber</span></div>
          </div>
        </div>
      </div>
    </section>

    <section id="about">
        <div class="about-grid">
            <div class="about-text reveal">
                <div class="section-tag">About Kita Holo</div>
                <h2>Bridging the Gap Between Messy Code & Business Success.</h2>
                <p>
                    Kita Holo Solutions was born from a simple observation: many great business ideas fail because of poor technical execution. Slow loading times, security vulnerabilities, and unscalable architecture are silent killers of growth.
                </p>
                <p>
                    We are not just developers; we are <strong>code doctors</strong>. We diagnose, treat, and optimize your digital infrastructure so you can focus on scaling your business without technical debt holding you back.
                </p>
                <div class="about-stats">
                    <div class="stat-item">
                        <h3 data-target="50">0+</h3>
                        <p>Projects Audited</p>
                    </div>
                    <div class="stat-item">
                        <h3 data-target="98">0%</h3>
                        <p>Client Retention</p>
                    </div>
                    <div class="stat-item">
                        <h3 data-target="3">0x</h3>
                        <p>Faster Load Time</p>
                    </div>
                </div>
            </div>
            <div class="about-visual reveal">
                <div class="code-card">
                    <div class="code-header">
                        <div class="dot red"></div>
                        <div class="dot yellow"></div>
                        <div class="dot green"></div>
                    </div>
                    <div class="code-lines">
                        <div class="line short"></div>
                        <div class="line medium"></div>
                        <div class="line long"></div>
                        <div class="line medium"></div>
                        <div class="line accent"></div> <div class="line short"></div>
                    </div>
                    <div class="floating-badge one">
                        <div class="fb-icon"><i class="fas fa-check"></i></div>
                        <span>Clean Code</span>
                    </div>
                    <div class="floating-badge two">
                        <div class="fb-icon"><i class="fas fa-rocket"></i></div>
                        <span>High Speed</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="services">
      <div class="section-header reveal">
        <div class="section-tag">Our Expertise</div>
        <h2 class="section-title">Audit & Solution Services</h2>
        <p class="section-subtitle">
          We don't just build websites; we ensure your system runs at maximum efficiency.
        </p>
      </div>
      <div class="services-grid">
        <div class="service-card reveal">
          <div class="service-icon"><i class="fas fa-tachometer-alt"></i></div>
          <h3>Performance Tuning</h3>
          <p>
            In-depth analysis to find bottlenecks slowing down your website. We optimize databases, queries, and frontend assets.
          </p>
        </div>
        <div class="service-card reveal">
          <div class="service-icon"><i class="fas fa-bug"></i></div>
          <h3>Code Review & Debugging</h3>
          <p>
            Have a hard-to-find bug? Our team will dissect your code line-by-line to ensure cleanliness and industry standards.
          </p>
        </div>
        <div class="service-card reveal">
          <div class="service-icon"><i class="fas fa-shield-alt"></i></div>
          <h3>Security Audit</h3>
          <p>
            Identify security loopholes in your web application before they are exploited by irresponsible parties.
          </p>
        </div>
        <div class="service-card reveal">
          <div class="service-icon"><i class="fas fa-brain"></i></div>
          <h3>AI Integration</h3>
          <p>
            Machine Learning implementation consulting for your business. From data processing to intelligent model deployment.
          </p>
        </div>
      </div>
    </section>

    <section id="testimonials">
      <div class="section-header reveal">
        <div class="section-tag">Client Success</div>
        <h2 class="section-title">What Our Clients Say</h2>
        <p class="section-subtitle">
          Those who have entrusted their system optimization to Kita Holo.
        </p>
      </div>
      <div class="testimonials-grid">
        <div class="testi-card reveal">
          <div class="testi-header">
            <div class="testi-avatar"><i class="fas fa-user"></i></div>
            <div class="testi-info">
              <h4>PT. Mencari Cinta Sejati</h4>
              <span>E-Commerce Startup</span>
            </div>
          </div>
          <div class="testi-body">
            <div class="stars">
              <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
            </div>
            <p>
              "Our website often went down during flash sales. After being audited by the Kita Holo Team, server load dropped by 40% and transactions went smoothly!"
            </p>
          </div>
        </div>
        <div class="testi-card reveal">
          <div class="testi-header">
            <div class="testi-avatar"><i class="fas fa-user-tie"></i></div>
            <div class="testi-info">
              <h4>CV. Maju Mundur Kena</h4>
              <span>Logistics System</span>
            </div>
          </div>
          <div class="testi-body">
            <div class="stars">
              <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
            </div>
            <p>
              "The shipping tracking bug issue was finally resolved thanks to the code review from Fathur and the team. Very professional."
            </p>
          </div>
        </div>
        <div class="testi-card reveal">
          <div class="testi-header">
            <div class="testi-avatar"><i class="fas fa-building"></i></div>
            <div class="testi-info">
              <h4>EduTech Indonesia</h4>
              <span>Learning Platform</span>
            </div>
          </div>
          <div class="testi-body">
            <div class="stars">
              <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
            </div>
            <p>
              "The AI integration for learning recommendations done by Aufa was very accurate. Our user retention increased dramatically."
            </p>
          </div>
        </div>
      </div>
    </section>

    <section id="pricing">
      <div class="section-header reveal">
        <div class="section-tag">Investment</div>
        <h2 class="section-title">Audit & Optimization Packages</h2>
        <p class="section-subtitle">
          Choose a package that fits your application scale and business needs. Transparent, no hidden fees.
        </p>
      </div>

      <div class="pricing-grid">
        <div class="pricing-card reveal">
          <div class="price-header">
            <h3>Code Audit</h3>
            <div class="price-amount">IDR 1.5M</div>
            <span class="price-period">Per Project / One-time</span>
          </div>
          <ul class="features-list">
            <li><i class="fas fa-check"></i> Automated Performance Scan</li>
            <li><i class="fas fa-check"></i> Basic Security Check (Vulnerability)</li>
            <li><i class="fas fa-check"></i> PDF Report (Initial Diagnosis)</li>
            <li><i class="fas fa-check"></i> 1 Hour Virtual Consultation</li>
            <li class="disabled"><i class="fas fa-times"></i> Manual Code Refactoring</li>
            <li class="disabled"><i class="fas fa-times"></i> Database Optimization</li>
          </ul>
          <a
            href="#contact"
            class="btn btn-secondary"
            onclick="document.getElementById('message').value='I am interested in the Code Audit (Starter) package...'"
            >Select Starter</a
          >
        </div>

        <div class="pricing-card popular reveal">
          <div class="badge-popular">Best Value</div>
          <div class="price-header">
            <h3>Full Optimization</h3>
            <div class="price-amount">IDR 7.5M</div>
            <span class="price-period">Starting from / Project</span>
          </div>
          <ul class="features-list">
            <li><i class="fas fa-check"></i> <strong>Deep Manual Code Review</strong></li>
            <li><i class="fas fa-check"></i> Database Query Optimization</li>
            <li><i class="fas fa-check"></i> Security Hardening & Patching</li>
            <li><i class="fas fa-check"></i> Bug Fixes (Up to 5 Critical Issues)</li>
            <li><i class="fas fa-check"></i> Technical Report & Documentation</li>
            <li><i class="fas fa-check"></i> 1 Month Monitoring Support</li>
          </ul>
          <a
            href="#contact"
            class="btn btn-primary"
            onclick="document.getElementById('message').value='I am interested in the Full Optimization package...'"
            >Optimize Now</a
          >
        </div>

        <div class="pricing-card reveal">
          <div class="price-header">
            <h3>Enterprise</h3>
            <div class="price-amount">Custom</div>
            <span class="price-period">Tailored to Needs</span>
          </div>
          <ul class="features-list">
            <li><i class="fas fa-check"></i> System Architecture Redesign</li>
            <li><i class="fas fa-check"></i> AI Model Integration & Training</li>
            <li><i class="fas fa-check"></i> Load Balancing & Scalability</li>
            <li><i class="fas fa-check"></i> Dedicated DevOps Team</li>
            <li><i class="fas fa-check"></i> Unlimited Bug Fixes (Retainer)</li>
            <li><i class="fas fa-check"></i> Priority Support 24/7</li>
          </ul>
          <a
            href="#contact"
            class="btn btn-secondary"
            onclick="document.getElementById('message').value='I need a Custom Enterprise solution...'"
            >Contact Sales</a
          >
        </div>
      </div>
    </section>

    <section id="team">
      <div class="section-header reveal">
        <div class="section-tag">The Experts</div>
        <h2 class="section-title">Senior Consultants</h2>
        <p class="section-subtitle">
          Click on a profile to view technical specializations.
        </p>
      </div>

      <div class="portfolio-grid">
        <div class="portfolio-card reveal">
          <div class="portfolio-card-inner">
            <div class="portfolio-card-front">
              <div class="p-card-header">
                <img src="/assets/foto_gue.jpg" alt="Fathur" />
              </div>
              <div class="p-card-body">
                <h3>Fathur Rahman</h3>
                <p class="role">Lead Architect & Backend</p>
                <p class="p-about-text">
                  "Specialist in large-scale system architecture and backend logic optimization. Focus on efficiency and data security."
                </p>
                <div class="flip-trigger">
                  <span><i class="fas fa-search"></i> View Tech Stack</span>
                </div>
              </div>
            </div>
            <div class="portfolio-card-back">
              <div class="back-content">
                <h3>Technical Audit</h3>
                <div class="stat-row">
                  <span class="stat-label">Core Language</span><span class="stat-value">Python, PHP</span>
                </div>
                <div class="stat-row">
                  <span class="stat-label">Framework</span><span class="stat-value">Laravel, Django</span>
                </div>
                <div class="stat-row">
                  <span class="stat-label">Specialty</span><span class="stat-value">System Design</span>
                </div>
                <div class="stat-row">
                  <span class="stat-label">Experience</span><span class="stat-value">Fullstack Optimize</span>
                </div>
                <div class="flip-back-btn">
                  <i class="fas fa-undo"></i> Back
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="portfolio-card reveal">
          <div class="portfolio-card-inner">
            <div class="portfolio-card-front">
              <div class="p-card-header">
                <img src="/assets/gusti.jpg" alt="Gusti" />
              </div>
              <div class="p-card-body">
                <h3>Gusti Alifiraqsha</h3>
                <p class="role">Frontend & Network Specialist</p>
                <p class="p-about-text">
                  "Ensuring responsive, fast user interfaces and stable infrastructure networks for your application."
                </p>
                <div class="flip-trigger">
                  <span><i class="fas fa-search"></i> View Tech Stack</span>
                </div>
              </div>
            </div>
            <div class="portfolio-card-back">
              <div class="back-content">
                <h3>Frontend Audit</h3>
                <div class="stat-row">
                  <span class="stat-label">Core Language</span><span class="stat-value">JS, HTML/CSS</span>
                </div>
                <div class="stat-row">
                  <span class="stat-label">Networking</span><span class="stat-value">Cisco, Mikrotik</span>
                </div>
                <div class="stat-row">
                  <span class="stat-label">Optimization</span><span class="stat-value">Core Web Vitals</span>
                </div>
                <div class="flip-back-btn">
                  <i class="fas fa-undo"></i> Back
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="portfolio-card reveal">
          <div class="portfolio-card-inner">
            <div class="portfolio-card-front">
              <div class="p-card-header">
                <img src="/assets/mraufa.png" alt="Aufa" />
              </div>
              <div class="p-card-body">
                <h3>M. Aufa Hakim</h3>
                <p class="role">AI & Data Consultant</p>
                <p class="p-about-text">
                  "Helping businesses implement artificial intelligence for data analysis and automated decision-making."
                </p>
                <div class="flip-trigger">
                  <span><i class="fas fa-search"></i> View Tech Stack</span>
                </div>
              </div>
            </div>
            <div class="portfolio-card-back">
              <div class="back-content">
                <h3>AI Solutions</h3>
                <div class="stat-row">
                  <span class="stat-label">Algorithm</span><span class="stat-value">TensorFlow, PyTorch</span>
                </div>
                <div class="stat-row">
                  <span class="stat-label">Data</span><span class="stat-value">Pandas, NumPy</span>
                </div>
                <div class="stat-row">
                  <span class="stat-label">Focus</span><span class="stat-value">Predictive Model</span>
                </div>
                <div class="flip-back-btn">
                  <i class="fas fa-undo"></i> Back
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="contact">
      <div class="section-header reveal">
        <div class="section-tag">Audit Request</div>
        <h2 class="section-title">Consult Your Project</h2>
        <p class="section-subtitle">
          Fill out the form below. Include your website/repository link if you want us to perform an initial check.
        </p>
      </div>
      <div class="contact-container">
        <form
          id="contactForm"
          action="https://formspree.io/f/MASUKKAN_ID_FORMSPREE_DISINI"
          method="POST"
          class="contact-form reveal"
        >
          <div class="form-group">
            <label for="name">Name / Company</label>
            <input
              type="text"
              id="name"
              name="name"
              required
              placeholder="PT. Digital Solution..."
            />
          </div>

          <div class="form-group">
            <label for="email">Business Email</label>
            <input
              type="email"
              id="email"
              name="email"
              required
              placeholder="hrd@company.com"
            />
          </div>

          <div class="form-group">
            <label for="url">Website / Repo URL (Optional)</label>
            <input
              type="url"
              id="url"
              name="url"
              placeholder="https://github.com/username/project"
            />
          </div>

          <div class="form-group">
            <label for="message">Issue Description</label>
            <textarea
              id="message"
              name="message"
              rows="5"
              required
              placeholder="Example: Our website takes 10 seconds to load..."
            ></textarea>
          </div>

          <button
            type="submit"
            id="submitBtn"
            class="btn btn-primary"
            style="width: 100%"
          >
            <span
              >Send Audit Request <i class="fas fa-paper-plane"></i
            ></span>
          </button>

          <p
            id="formStatus"
            style="
              margin-top: 1rem;
              text-align: center;
              display: none;
              font-size: 0.9rem;
            "
          ></p>
        </form>
      </div>
    </section>

    <footer>
      <p>&copy; 2025 Kita Holo Solutions. Enterprise Software Consulting.</p>
    </footer>

    <button class="chatbot-toggle" id="chatbotToggle">
      <i class="fas fa-comment-dots"></i>
    </button>
    <div class="chatbot-container" id="chatbotContainer">
      <div class="chatbot-header">
        <h3 style="color: var(--text-primary)">
          <i class="fas fa-robot"></i> Holo Assistant
        </h3>
        <button
          id="chatbotClose"
          style="
            background: none;
            border: none;
            color: var(--text-primary);
            cursor: pointer;
          "
        >
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="chatbot-messages" id="chatbotMessages">
        <div class="message">
          <div class="message-content">
            Hello! I am the Kita Holo assistant. Need a website performance audit or AI consultation?
          </div>
        </div>
      </div>
      <div class="chatbot-input">
        <input
          type="text"
          id="userInput"
          placeholder="Ask about services..."
        />
        <button id="sendBtn"><i class="fas fa-paper-plane"></i></button>
      </div>
    </div>

    <script src="https://unpkg.com/lenis@1.1.13/dist/lenis.min.js"></script>

    <script>
      // --- LENIS SMOOTH SCROLL INIT ---
      const lenis = new Lenis({
        duration: 1.2,
        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)), 
        smoothWheel: true,
      });

      function raf(time) {
        lenis.raf(time);
        requestAnimationFrame(raf);
      }
      requestAnimationFrame(raf);

      // Lenis integration with Anchor Navigation
      document.querySelectorAll('nav a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const targetId = this.getAttribute("href");
          const targetSection = document.querySelector(targetId);
          if (targetSection) {
            lenis.scrollTo(targetSection);
            document.getElementById("navMenu").classList.remove("active");
          }
        });
      });

      // --- SCROLL SPY & NAVBAR SHRINK ---
      const sections = document.querySelectorAll("section");
      const navLinks = document.querySelectorAll("nav ul li a");
      const navbar = document.getElementById("navbar");

      window.addEventListener("scroll", () => {
        let current = "";
        
        // 1. Logic to shrink navbar on scroll
        if (window.scrollY > 50) {
          navbar.classList.add("scrolled");
        } else {
          navbar.classList.remove("scrolled");
        }

        // 2. Scroll Spy Logic
        sections.forEach((section) => {
          const sectionTop = section.offsetTop;
          if (window.scrollY >= sectionTop - 200) { 
            current = section.getAttribute("id");
          }
        });

        navLinks.forEach((link) => {
          link.classList.remove("active");
          if (link.getAttribute("href").includes(current)) {
            if(current !== "") {
               link.classList.add("active");
            } else if (link.getAttribute("href") === "#home") {
               link.classList.add("active");
            }
          }
        });
      });

      // --- COUNTER ANIMATION FOR ABOUT SECTION ---
      // This script triggers numbers to count up when scrolled into view
      const stats = document.querySelectorAll('.stat-item h3');
      const statsSection = document.querySelector('.about-stats');
      let started = false;

      function startCounting(el) {
          const target = +el.getAttribute('data-target');
          const suffix = el.innerText.replace(/[0-9]/g, ''); // Get +, %, etc
          const duration = 2000; // 2 seconds
          const increment = target / (duration / 16); 
          
          let current = 0;
          const timer = setInterval(() => {
              current += increment;
              el.innerText = Math.floor(current) + suffix;
              if (current >= target) {
                  el.innerText = target + suffix;
                  clearInterval(timer);
              }
          }, 16);
      }

      window.addEventListener('scroll', () => {
          if (statsSection && !started) {
              const rect = statsSection.getBoundingClientRect();
              if (rect.top <= window.innerHeight - 100) {
                  stats.forEach(stat => startCounting(stat));
                  started = true;
              }
          }
      });


      // --- UI LOGIC ---
      window.toggleMenu = function () {
        document.getElementById("navMenu").classList.toggle("active");
      };

      // Scroll Reveal
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) entry.target.classList.add("active");
          });
        },
        { threshold: 0.1 }
      );
      document.querySelectorAll(".reveal").forEach((el) => observer.observe(el));

      // Flip Card Logic
      document.querySelectorAll(".flip-trigger").forEach((btn) => {
        btn.addEventListener("click", (e) =>
          e.target.closest(".portfolio-card").classList.add("is-flipped")
        );
      });
      document.querySelectorAll(".flip-back-btn").forEach((btn) => {
        btn.addEventListener("click", (e) =>
          e.target.closest(".portfolio-card").classList.remove("is-flipped")
        );
      });

      // Theme Toggle
      const themeToggle = document.getElementById("theme-toggle");
      themeToggle.addEventListener("click", () => {
        document.body.classList.toggle("light-theme");
      });

      // --- CHATBOT LOGIC WITH MODERATION ---
      const chatbotToggle = document.getElementById("chatbotToggle");
      const chatbotContainer = document.getElementById("chatbotContainer");
      const chatbotClose = document.getElementById("chatbotClose");
      const sendBtn = document.getElementById("sendBtn");
      const userInput = document.getElementById("userInput");
      const messages = document.getElementById("chatbotMessages");

      // 1. FILTER CONFIGURATION
      const sensitiveKeywords = [
          "perang", "bunuh", "bom", "teroris", "nuklir", "war", "kill", "bomb", "weapon",
          "politik", "presiden", "partai", "pemilu", "kampanye", "politics", "president", "election",
          "narkoba", "judi", "bokep", "porno", "drug", "drugs", "gambling",
          "hack", "crack", "carding", "illegal"
      ];

      const privacyKeywords = [
          "alamat", "rumah", "tinggal di", "lokasi rumah", "address", "live in", "home",
          "nomor hp", "no hp", "whatsapp", "wa", "phone", "number",
          "pacar", "gaji", "nikah", "agama", "salary", "girlfriend", "boyfriend", "married"
      ];

      // 2. VALIDATION FUNCTION
      function validateMessage(text) {
          const lowerText = text.toLowerCase();

          const foundSensitive = sensitiveKeywords.find(word => lowerText.includes(word));
          if (foundSensitive) {
              return "I'm sorry, I cannot discuss sensitive, political, or illegal topics as per our guidelines.";
          }

          const foundPrivacy = privacyKeywords.find(word => lowerText.includes(word));
          if (foundPrivacy) {
              return "I'm sorry, I cannot share personal private information (address, contact, etc.) about our team.";
          }

          return null;
      }

      function toggleChat() {
        chatbotContainer.classList.toggle("active");
      }
      chatbotToggle.addEventListener("click", toggleChat);
      chatbotClose.addEventListener("click", toggleChat);

      function addMsg(text, isUser = false) {
        const div = document.createElement("div");
        div.className = `message ${isUser ? "user" : ""}`;
        div.innerHTML = `<div class="message-content">${text}</div>`;
        messages.appendChild(div);
        messages.scrollTop = messages.scrollHeight;
      }

      async function handleChat() {
        const text = userInput.value.trim();
        if (!text) return;
        
        addMsg(text, true);
        userInput.value = "";
        
        const validationError = validateMessage(text);
        if (validationError) {
            const loadingDiv = document.createElement("div");
            loadingDiv.className = "message";
            loadingDiv.innerHTML = `<div class="message-content"><i class="fas fa-spinner fa-spin"></i> Typing...</div>`;
            messages.appendChild(loadingDiv);
            messages.scrollTop = messages.scrollHeight;

            setTimeout(() => {
                loadingDiv.remove();
                addMsg(validationError);
            }, 600); 
            return; 
        }

        const loadingDiv = document.createElement("div");
        loadingDiv.className = "message";
        loadingDiv.innerHTML = `<div class="message-content"><i class="fas fa-spinner fa-spin"></i> Typing...</div>`;
        messages.appendChild(loadingDiv);
        messages.scrollTop = messages.scrollHeight;

        try {
          const response = await fetch('/api/chat', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ message: text })
          });

          const data = await response.json();
          loadingDiv.remove();

          if (response.ok) {
            addMsg(data.reply);
          } else {
            console.error("Backend Error:", data.error);
            addMsg("Sorry, the system is busy. Please try again later.");
          }
        } catch (e) {
          loadingDiv.remove();
          console.error("Network Error:", e);
          addMsg("Failed to connect to server. Check your internet connection.");
        }
      }

      sendBtn.addEventListener("click", handleChat);
      userInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") handleChat();
      });

      // Service Card 3D Tilt Effect
      document.querySelectorAll(".service-card").forEach((card) => {
        card.addEventListener("mousemove", (e) => {
          const rect = card.getBoundingClientRect();
          const x = e.clientX - rect.left;
          const y = e.clientY - rect.top;
          const xMid = rect.width / 2;
          const yMid = rect.height / 2;
          const xRotate = ((y - yMid) / yMid) * -10; 
          const yRotate = ((x - xMid) / xMid) * 10;
          card.style.transform = `perspective(1000px) rotateX(${xRotate}deg) rotateY(${yRotate}deg) scale(1.02)`;
        });

        card.addEventListener("mouseleave", () => {
          card.style.transform = "perspective(1000px) rotateX(0) rotateY(0) scale(1)";
        });
      });

      // --- CONTACT FORM LOGIC ---
      const form = document.getElementById("contactForm");
      const submitBtn = document.getElementById("submitBtn");
      const formStatus = document.getElementById("formStatus");
      const btnOriginalText = submitBtn.innerHTML;

      form.addEventListener("submit", async function (event) {
        event.preventDefault(); 
        submitBtn.disabled = true;
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
        formStatus.style.display = "none";

        const data = new FormData(event.target);
        try {
          const response = await fetch(event.target.action, {
            method: form.method,
            body: data,
            headers: { Accept: "application/json" },
          });

          if (response.ok) {
            formStatus.style.display = "block";
            formStatus.style.color = "#4ade80"; 
            formStatus.innerHTML = '<i class="fas fa-check-circle"></i> Message sent! Our team will contact you soon.';
            form.reset(); 
            setTimeout(() => { submitBtn.innerHTML = "Sent!"; submitBtn.style.background = "#22c55e"; }, 500);
            setTimeout(() => { submitBtn.disabled = false; submitBtn.innerHTML = btnOriginalText; submitBtn.style.background = ""; formStatus.style.display = "none"; }, 5000);
          } else {
            const errorData = await response.json();
            throw new Error(errorData.error || "An error occurred.");
          }
        } catch (error) {
          formStatus.style.display = "block";
          formStatus.style.color = "#ef4444"; 
          formStatus.innerHTML = '<i class="fas fa-exclamation-circle"></i> Failed to send message. Please try again.';
          submitBtn.disabled = false;
          submitBtn.innerHTML = btnOriginalText;
        }
      });
    </script>
  </body>
</html>